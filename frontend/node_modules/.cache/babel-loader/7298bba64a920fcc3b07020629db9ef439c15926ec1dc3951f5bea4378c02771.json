{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BusinessList(_ref){let{apiUrl}=_ref;const[businesses,setBusinesses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchBusinesses();},[]);const fetchBusinesses=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(apiUrl,\"/businesses\"));setBusinesses(response.data||[]);setError(null);}catch(err){setError('Failed to load businesses: '+(err.message||'Unknown error'));setBusinesses([]);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading businesses...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:fetchBusinesses,children:\"Try Again\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Local Businesses\"}),businesses.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No businesses found.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"businesses-grid\",children:businesses.map(business=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:business.name}),/*#__PURE__*/_jsx(\"p\",{children:business.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",business.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",business.location]}),business.phone&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",business.phone]})]},business._id))})]});}export default BusinessList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","BusinessList","_ref","apiUrl","businesses","setBusinesses","loading","setLoading","error","setError","fetchBusinesses","response","get","concat","data","err","message","className","children","onClick","length","map","business","name","description","category","location","phone","_id"],"sources":["/workspaces/LocalBizSite/frontend/src/pages/BusinessList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction BusinessList({ apiUrl }) {\n  const [businesses, setBusinesses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchBusinesses();\n  }, []);\n\n  const fetchBusinesses = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${apiUrl}/businesses`);\n      setBusinesses(response.data || []);\n      setError(null);\n    } catch (err) {\n      setError('Failed to load businesses: ' + (err.message || 'Unknown error'));\n      setBusinesses([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"container\"><p>Loading businesses...</p></div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <p className=\"error\">{error}</p>\n          <button className=\"button\" onClick={fetchBusinesses}>\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Local Businesses</h1>\n      {businesses.length === 0 ? (\n        <div className=\"card\">\n          <p>No businesses found.</p>\n        </div>\n      ) : (\n        <div className=\"businesses-grid\">\n          {businesses.map((business) => (\n            <div key={business._id} className=\"card\">\n              <h3>{business.name}</h3>\n              <p>{business.description}</p>\n              <p><strong>Category:</strong> {business.category}</p>\n              <p><strong>Location:</strong> {business.location}</p>\n              {business.phone && <p><strong>Phone:</strong> {business.phone}</p>}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default BusinessList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}